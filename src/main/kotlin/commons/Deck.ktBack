package commons

class Deck {
    private val cards = mutableListOf<Card>()
        get() {
            if (field.isEmpty())
                for (suit in Card.Suit.legal())
                    for (value in Card.Value.legal())
                        field += Card(suit, value)
            return field
        }

    fun take() = cards.random().also { cards.remove(it) }
    fun take(n: Int) = buildList { repeat(n) { add(take()) } }.toMutableList()
    fun add(c: Card) = cards.add(c)
}